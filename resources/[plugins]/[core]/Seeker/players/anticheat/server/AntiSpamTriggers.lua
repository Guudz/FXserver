local TriggersList = {
    'es_admin:set',
    'esx:onPlayerDeath',
    'mumble:SetVoiceData',
    'mumble:Initialise',
    'essence:addPlayer',
    'mysql-async:request-data',
    'mysql-async:request-server-status',
    'mysql-async:request-table-schema',
    'mysql-async:get-table-schema',
    'mysql-async:request-server-status',
    'BanSql:ICheatServer',
    'essence:buy',
    'essence:buyCan',
    'esx_advancedgarage:payBoat',
    'esx_advancedgarage:payCar',
    'esx_advancedgarage:payAircraft',
    'esx_advancedgarage:payhealth',
    'esx_advancedgarage:setVehicleState',
    'esx_barbershop:pay',
    'esx_clotheshop:pay',
    'esx_clotheshop:saveOutfit',
    'esx_clotheshop:deleteOutfit',
    'esx_dmvschool:pay',
    'esx_dmvschool:addLicense',
    'esx_garage:setParking',
    'esx_garage:updateOwnedVehicle',
    'esx_holdup:rob',
    'esx_identity:setIdentity',
    'esx_truck_inventory:getItem',
    'esx_truck_inventory:putItem',
    'esx_kekke_tackle:tryTackle',
    'esx_moneywash:stopWash',
    'esx_moneywash:startWash',
    'esx_property:saveLastProperty',
    'esx_property:deleteLastProperty',
    'esx_property:removeOwnedProperty',
    'esx_property:buyProperty',
    'esx_property:rentProperty',
    'esx_property:removeOutfit',
    'esx_property:getItem',
    'esx_property:putItem',
    'esx_repairkit:removeKit',
    'esx_vehiclelock:changeowner',
    'esx_vehiclelock:preterkey',
    'esx_vehiclelock:deletekey',
    'esx_vehiclelock:registerkey',
    'esx_vehicleshop:returnProvider',
    'esx_vehicleshop:setVehicleOwned',
    'esx_vehicleshop:setVehicleOwnedSociety',
    'esx_vehicleshop:setVehicleOwned',
    'esx_billing:sendBill',
    'esx_vehicleshop:sellVehicle',
    'esx_vehicleshop:addToList',
    'esx_vehicleshop:setVehicleOwnedPlayerId',
    'esx_vehicleshop:rentVehicle',
    'esx_vehicleshop:setVehicleForAllPlayers',
    'esx_vehicleshop:getStockItem',
    'esx_vehicleshop:putStockItems',
    'esx_phone:send',
    'esx_society:removeVehicleFromGarage',
    'esx_vehiclelock:givekey',
    'esx_ambulancejob:giveItem',
    'esx_ambulancejob:firstSpawn',
    'esx_ambulancejob:setDeathStatus',
    'esx_society:putVehicleInGarage',
    'esx_ambulancejob:removeItem',
    'esx_ambulancejob:revive',
    'esx_ambulancejob:heal',
    'jsfour-idcard:open',
    'esx_lscustom:refreshOwnedVehicle',
    'esx_lscustom:buyMod',
    'esx_journalist:annonce',
    'esx_journalist:getStockItem',
    'esx_journalist:putStockItems',
    'esx_service:disableService',
    'esx_mecanojob:startHarvest',
    'esx_mecanojob:startHarvest2',
    'esx_mecanojob:startHarvest3',
    'esx_mecanojob:startCraft',
    'esx_mecanojob:startCraft2',
    'esx_mecanojob:startCraft3',
    'esx_mecanojob:onNPCJobMissionCompleted',
    'esx_mecanojob:getStockItem',
    'esx_mecanojob:putStockItems',
    'esx_mecanojob:stopCraft',
    'esx_mecanojob:stopCraft2',
    'esx_mecanojob:stopCraft3',
    'esx_mecanojob:stopHarvest',
    'esx_mecanojob:stopHarvest2',
    'esx_mecanojob:stopHarvest3',
    'esx_policejob:message',
    'esx_license:removeLicense',
    'esx_policejob:getStockItem',
    'esx_policejob:putStockItems',
    'esx_policejob:spawned',
    'esx_policejob:putInVehicle',
    'esx_policejob:OutVehicle',
    'GangsBuilder:confiscatePlayerItem',
    'esx_taxijob:getStockItem',
    'esx_taxijob:putStockItems',
    'esx_taxijob:success',
    'esx_vigneronjob:getStockItem',
    'esx_vigneronjob:putStockItems',
    'esx_vigneronjob:stopHarvest',
    'esx_vigneronjob:stopTransform',
    'esx_vigneronjob:stopSell',
    'esx_vigneronjob:startHarvest',
    'esx_vigneronjob:startTransform',
    'esx_vigneronjob:startSell',
    'esx_addons_gcphone:startCall',
    'esx_society:withdrawMoney',
    'esx_society:depositMoney',
    'esx_society:washMoney',
    'esx_status:update',
    'instance:create',
    'instance:enter',
    'instance:leave',
    'instance:invite',
    'GangsBuilder:requestSync',
    'GangsBuilder:putInVehicle',
    'GangsBuilder:OutVehicle',
    'GangsBuilder:getStockItem',
    'GangsBuilder:putStockItems',
    'GangsBuilder:addGang',
    'gcPhone:tchat_addMessage',
    'gcPhone:tchat_channel',
    'gcPhone:addContact',
    'gcPhone:deleteContact',
    'gcPhone:sendMessage',
    'gcPhone:deleteMessage',
    'gcPhone:deleteMessageNumber',
    'gcPhone:deleteAllMessage',
    'gcPhone:setReadMessageNumber',
    'gcPhone:requestAllMessages',
    'gcPhone:requestAllContact',
    'gcPhone:setReadMessageNumber',
    'gcPhone:startCall',
    'gcPhone:acceptCall',
    'gcPhone:rejectCall',
    'gcPhone:ignoreCall',
    'gcPhone:getHistoriqueCall',
    'gcPhone:appelsDeleteHistorique',
    'gcPhone:appelsDeleteAllHistorique',
    'gcPhone:candidates',
    'gcPhone:allUpdate',
    'gcPhone:twitter_login',
    'gcPhone:twitter_changePassword',
    'gcPhone:twitter_createAccount',
    'gcPhone:twitter_getTweets',
    'gcPhone:twitter_getFavoriteTweets',
    'gcPhone:twitter_postTweets',
    'gcPhone:twitter_toogleLikeTweet',
    'gcPhone:twitter_setAvatarUrl',
    'BanSql:ICheatClient',
    'jobs_civil:pay',
    'RED_JOBS:ChantierAntiDump',
    'korioz_vehicle:spotlight',
    'krz_handcuff:handcuff',
    'InteractSound_SV:PlayWithinDistance',
    'baseevents:enteringVehicle',
    'baseevents:enteringAborted',
    'baseevents:leftVehicle',
    'hardcap:playerActivated',
    'ewen:recrutementjob',
    'ewen:virerjob',
    'ewen:promouvoirplayerjob',
    'ewen:retrogradationjob',
    'ewen:recrutementgang',
    'ewen:virergang',
    'ewen:promouvoirplayergang',
    'ewen:retrogradationgang',
    'cmg2_animations:sync',
    'cmg2_animations:stop',
    'ServerEmoteRequest',
    'ServerValidEmote',
    'ewen:retraitMoney',
    'ewen:addMoney',
    'clp_carwash:removemoney',
    'framework:carwash',
    'barber:pay',
    'karting:uhq',
    'karting:hq',
    'framework:createactivitylegal',
    'framework:startActivityBuild',
    'framework:stopActivityBuild',
    'clp:removeitem',
    'cFleeca:OpenDoor',
    'sPolice:enterAppel',
    'cFleeca:SetCooldown',
    'cFleeca:GiveMoney',
    'loca:uhq',
    'esx:giveInventoryItem',
    'ewen:notification',
    'esx:dropInventoryItem',
    'ewen:transferweapon',
    'ewen:identity',
    'esx:removeInventoryItem',
    'esx_thief:update',
    'illegal:buy',
    'aBoutique:GetInvestisseursGrade',
    'AutoEventSly:Reward',
    'esx_shops:pickUp',
    'esx_shops:rob',
    'core:achat',
    'esx_truck_inventory:getItem',
    'esx_truck_inventory:putItem',
    'esx_skin:save',
    'ewenclothe:RenameMasque',
    'ewenclothe:GiveAccessories',
    'ewenclothe:Delclo',
    'ewenclothe:SetNewBag',
    'esx_billing:sendBill',
    'esx_garage:setParking',
    'esx_license:addLicense',
    'esx_license:removeLicense',
    'esx_property:setPropertyOwned',
    'esx_vehiclelock:givekey',
    'esx_vehiclelock:registerkey',
    'esx_vehiclelock:changeowner',
    'esx_vehiclelock:donnerkey',
    'esx_vehiclelock:preterkey',
    'esx_vehicleshop:setVehicleOwned',
    'esx_vehicleshop:setVehicleOwnedPlayerId',
    'esx_vehicleshop:setVehicleOwnedSociety',
    'esx_vehicleshop:addToList',
    'esx_vehicleshop:rentVehicle',
    'esx_vehicleshop:buyVehicleSociety',
    'esx_society:washMoney',
    'GangsBuilder:addGang',
    'gcPhone:_internalAddMessage',
    'ewenclothe:SetNewGlasses',
    'ewenclothe:SetNewHat',
    'ewenclothe:SetNewMask',
    'ewenclothe:SetNewMask',
    'ewenclothe:SetNewOreilles',
    'framework:loadvet',
    'tebex:retrieve-points',
    'ronflex:identity',
    'ronflex:bucket',
}

local Counter = {}

for k,v in pairs(TriggersList) do
    RegisterServerEvent(v)
    AddEventHandler(v, function()
        local color = math.random(1, 9)
        local color2 = math.random(1,9)
        if color == color2 then
            color2 = math.random(1,9)
        end
        if not Counter[source] then
            Counter[source] = {}
        end
        if not Counter[source][v] then
            Counter[source][v] = {}
            Counter[source][v] = 1
        else
            Counter[source][v] = Counter[source][v] +1
        end
        if Counter[source][v] >= 15 then
	        print('^'..color..'Le joueur : [^'..color2..GetPlayerName(source)..' - '..source..'^'..color..'] Ã  utiliser le Triggers : [^'..color2.. ''.. v..'^'..color..']')
        end
        if Counter[source][v] >= 30 then
            DropPlayer(source, 'Vous avez effectuer trop d\'action en peu de temps.')
        end
    end)
end

LystyLife.newThread(function()
    while true do 
        Wait(10000)
        Counter = {}
    end
end)